<!-- Wraps image url and label in table -->
<!-- Also appends structure info table to appear upon hover-->
<script>
 $(function() {

 	var info = {};
 	info.formula = "{{formula}}";
 	info.iupac = "{{iupac}}";
 	info.smiles = "{{smiles}}";
 	info.mass = "{{mass}}";

    $( "#{{iupac|slugify}}" ).tooltip({
       content: buildInfoTable(info), //located in stylesheets/structure_wrapper.js...
       track: true
    });
 });

 function buildInfoTable(info) {
	var structInfo = {
						"Formula": info.formula, 
				 		"IUPAC": info.iupac,
				 	 	"SMILES": info.smiles,
				 	  	"Mass": info.mass
					};

	//popup table on mouseover event
	var htmlWrapper = "<table>"
 	for (var key in structInfo) {
 		if (structInfo.hasOwnProperty(key)) {
 			htmlWrapper += "<tr><td>";
 			htmlWrapper += key; 
 			htmlWrapper += "</td><td>";
 			htmlWrapper += structInfo[key];
 			htmlWrapper += "</td></tr>";
 		}
 	}
 	htmlWrapper += "</table>";

 	return htmlWrapper;
 }

</script>

<table id="{{iupac|slugify}}" class="wrapped_molecule">
<tr>
<td align="center">{{iupac}}</td>
</tr>
<tr>
<td><img src="{{image}}" alt="{{formula}}" title="tooltip"></td>
</tr>
</table>

<script>
buildInfoTable();
</script>